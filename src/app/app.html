<nz-layout class="app-layout">
    <nz-sider
        class="menu-sidebar"
        nzCollapsible
        nzWidth="256px"
        nzBreakpoint="md"
        [nzCollapsed]="appStore.isMenuCollapsed()"
        [nzTrigger]="null"
        [style.background-color]="isLightTheme() ? '#f0f2f5' : null"
    >
        <app-sidebar-logo [isMenuCollapsed]="appStore.isMenuCollapsed()" />
        <app-sidebar-menu />
    </nz-sider>
    <nz-layout>
        <nz-header>
            <div class="app-header" [style.background-color]="isLightTheme() ? 'white' : null">
                <span class="header-trigger" (click)="onCollapseMenu()">
                    <nz-icon class="trigger" [nzType]="appStore.isMenuCollapsed() ? 'menu-unfold' : 'menu-fold'" />
                    {{ pageTitle }}
                </span>
                <div nz-flex [nzGap]="12">
                    @if (showSearch) {
                        <div class="header-input-wrapper">
                            <app-search (searchChanged)="onSearch($event)" [placeholder]="searchLabels.search" />
                        </div>
                    }
                    @if (showCoinToggler) {
                        <div class="header-input-wrapper">
                            <app-coin-select
                                [initialCoin]="appStore.baseCoin()"
                                [baseCoin]="appStore.baseCoin()"
                                (selectCoin)="onChangeBaseCoin($event)"
                            />
                        </div>
                    }
                    <app-theme-switcher />
                </div>
            </div>
        </nz-header>
        <nz-content>
            <router-outlet />
        </nz-content>
    </nz-layout>
</nz-layout>
